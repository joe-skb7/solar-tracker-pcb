# Solar tracker PCB

This project contains solar tracker PCB I made for my dad's project.
I used KiCAD 4.0.7 for this PCB, but it should open fine in different versions,
as I keep `-cache.lib` file in this repo.

Original schematic can be found in `doc/scheme.jpg`. The only thing I changed
is properly connected unused OPAMP parts.

## Schematic explanation

LDR1 and LDR2 photo-resistors yield signal which is used to determine in which
direction PV unit (solar panel) should be rotated, i.e. in which direction
we have more light radiation.

Signal from photo-resistors is being compared further by comparators built on
U1A and U1B OPAMPs. Reference voltage level is generated by dividers built on
R1, R2 resistors and RV1, RV2 trim-pots.

RV1 trim-pot is used to adjust this reference voltage point, so that motor
stands still when both photo-resistors are receiving the same light level.
RV2 is used to setup hysteresis level, so that motor is not moving when the
light difference on photo-resistors is small.

H-bridge formed by Q1-Q4 transistors is powering the motor, according to control
signals from comparators. Transistors are working in switch mode, as comparators
yield only 0 or VCC:

    V_out = 0,   if V+ < V-
    V_out = Vcc, if V+ > V-

D1-D4 are just flyback diodes, providing the path for back EMF discharge from
motor's coil, preventing it to burn transistors.

C1 provides some of the energy required by the motor during the initial spike of
each turn-on.

Notice that DC motor arcing leads to EMI, which may affect your external
circuits (especially digital ones, like MCUs). In that case you should install
EMI suppressor on your motor leads.

## PCB notes

1. You may want to add copper pour to the PCB if manufacturing your PCB at
   the plant (like Seeed Studio or JLCPCB, etc.)
2. Notice the Vias and front layer tracks. It serves as jumper wires, as
   I'm using single-layer boards for home-made PCBs. So you need to solder it
   in case you are doing it on single-layer board too.

## Authors

**Sam Protsenko**

## License

This project is licensed under the GPLv3.
